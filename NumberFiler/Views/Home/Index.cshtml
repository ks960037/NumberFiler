@{
    ViewData["Title"] = "檔案上傳";
}

<h1 class="display-4">Welcome</h1>
<h2>@ViewData["Title"]</h2>

<div class="text-center">
    <p>上傳檔案，服務器將會分析檔案內容並按指定條件篩查</p>
    @*上傳表單*@
    <form asp-controller="Home" asp-action="Upload" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="file">選擇檔案：</label>
            <input type="file" name="file" id="file" class="form-control" />
        </div>
        <button type="submit" class="btn btn-primary">上傳檔案</button>
    </form>
</div>

@if (ViewBag.Message != null)
{
    <div class="alert alert-info mt-3">
        @ViewBag.Message
    </div>
}

@if (ViewBag.Results != null)
{
    <h3> 分類結果 </h3>

    <div class="alert alert-info mt-3">
        <strong>檔案內容：</strong>
        <div class="container">
            <div class="row">
                @foreach (var group in ViewBag.Results)
                {
                    <div class="col">
                        <h2>Category: @group.Key</h2>
                        <div class="row">
                            @foreach (var result in group)
                            {
                                <div class="col">
                                    <span style="white-space:nowrap">
                                        @result
                                    </span>
                                </div>
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
        <pre>@ViewBag.FileContent</pre>
    </div>
}